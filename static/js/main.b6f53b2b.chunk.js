(this.webpackJsonptabacrow=this.webpackJsonptabacrow||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var d=a(0),o=a.n(d),r=a(4),n=a.n(r),l=(a(14),a(15),a(1));const i=["Seda","Filtros","Tabacos","Dichavadores","Isqueiros","Mini Cuia"],c={Seda:2.85,Filtros:1.5,Tabacos:2,Dichavadores:2,Isqueiros:1.8,"Mini Cuia":2.5};var p=()=>{const[e,t]=Object(d.useState)(""),[a,r]=Object(d.useState)(""),[n,p]=Object(d.useState)(0),[s,u]=Object(d.useState)(""),[m,g]=Object(d.useState)(()=>{const e=localStorage.getItem("profitMargin");return e?JSON.parse(e):c}),[x,E]=Object(d.useState)(()=>{const e=localStorage.getItem("stock");if(e){const t=JSON.parse(e);return i.forEach(e=>{t[e]||(t[e]=[])}),t}return Object.fromEntries(i.map(e=>[e,[]]))}),[b,y]=Object(d.useState)(()=>{const e=localStorage.getItem("log");return e?JSON.parse(e):[]});Object(d.useEffect)(()=>localStorage.setItem("stock",JSON.stringify(x)),[x]),Object(d.useEffect)(()=>localStorage.setItem("profitMargin",JSON.stringify(m)),[m]),Object(d.useEffect)(()=>localStorage.setItem("log",JSON.stringify(b)),[b]);const h=t=>{const a=x[e].find(e=>e.id===t);E(a=>Object(l.a)(Object(l.a)({},a),{},{[e]:a[e].filter(e=>e.id!==t)})),y(t=>[...t,"Produto removido: ".concat(a.name," - ").concat(e)])},S=e=>x[e].reduce((e,t)=>e+t.price,0).toFixed(2),v=e=>x[e].reduce((e,t)=>e+t.totalSuggestedPrice,0).toFixed(2);return o.a.createElement("div",{style:{textAlign:"center",padding:"20px"}},o.a.createElement("h2",null,"Controle de Estoque Tabacrow"),o.a.createElement("select",{onChange:e=>t(e.target.value),value:e,style:{padding:"10px",marginBottom:"20px",fontSize:"16px"}},o.a.createElement("option",{value:""},"Selecione uma categoria"),i.map((e,t)=>o.a.createElement("option",{key:t,value:e},e)),o.a.createElement("option",{value:"Todos"},"Todas as Categorias")),e&&"Todos"!==e&&o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{onClick:()=>(e=>{const t=prompt("Nova margem de lucro (%):");if(t){const a=parseFloat(t)/100+1;g(t=>Object(l.a)(Object(l.a)({},t),{},{[e]:a}))}})(e),style:{padding:"10px 20px",marginBottom:"20px"}},"Alterar Margem de Lucro"),o.a.createElement("div",{style:{marginBottom:"20px"}},o.a.createElement("input",{type:"text",placeholder:"Nome do Produto",value:a,onChange:e=>r(e.target.value),style:{padding:"10px",marginRight:"10px",width:"200px"}}),o.a.createElement("input",{type:"number",placeholder:"Quantidade por Caixa",value:n,onChange:e=>p(Number(e.target.value)),style:{padding:"10px",marginRight:"10px",width:"200px"}}),o.a.createElement("input",{type:"text",placeholder:"Valor da Caixa",value:s,onChange:e=>u(e.target.value),style:{padding:"10px",marginRight:"10px",width:"200px"}}),o.a.createElement("button",{onClick:()=>{if(!e||!a||!n||!s)return void alert("Por favor, preencha todos os campos!");const t=parseFloat(s.replace(",",".")),d=t/n,o=d*m[e],i={id:Date.now(),name:a,quantity:n,price:t,pricePerUnit:d,suggestedPrice:o,totalSuggestedPrice:o*n,dateAdded:(new Date).toLocaleDateString("pt-BR"),exits:[]};E(t=>Object(l.a)(Object(l.a)({},t),{},{[e]:[...t[e],i]})),y(d=>[...d,"Produto adicionado: ".concat(a," - ").concat(e," - Quantidade: ").concat(n," - Pre\xe7o: R$").concat(t.toFixed(2))]),r(""),p(0),u("")},style:{padding:"10px 20px",fontSize:"16px"}},"Adicionar Produto"))),e&&"Todos"!==e&&o.a.createElement(o.a.Fragment,null,o.a.createElement("table",{style:{width:"80%",margin:"0 auto",borderCollapse:"collapse"}},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{style:{padding:"10px",border:"1px solid #ddd"}},"Produto"),o.a.createElement("th",{style:{padding:"10px",border:"1px solid #ddd"}},"Quantidade"),o.a.createElement("th",{style:{padding:"10px",border:"1px solid #ddd"}},"Pre\xe7o Pago"),o.a.createElement("th",{style:{padding:"10px",border:"1px solid #ddd"}},"Pre\xe7o Unit\xe1rio"),o.a.createElement("th",{style:{padding:"10px",border:"1px solid #ddd"}},"Pre\xe7o Sugerido"),o.a.createElement("th",{style:{padding:"10px",border:"1px solid #ddd"}},"Valor Total Sugerido"),o.a.createElement("th",{style:{padding:"10px",border:"1px solid #ddd"}},"Data de Adi\xe7\xe3o"),o.a.createElement("th",{style:{padding:"10px",border:"1px solid #ddd"}},"A\xe7\xf5es"))),o.a.createElement("tbody",null,x[e].map(t=>o.a.createElement("tr",{key:t.id},o.a.createElement("td",{style:{padding:"10px",border:"1px solid #ddd"}},t.name),o.a.createElement("td",{style:{padding:"10px",border:"1px solid #ddd"}},t.quantity),o.a.createElement("td",{style:{padding:"10px",border:"1px solid #ddd"}},"R$",t.price.toFixed(2)),o.a.createElement("td",{style:{padding:"10px",border:"1px solid #ddd"}},"R$",t.pricePerUnit.toFixed(2)),o.a.createElement("td",{style:{padding:"10px",border:"1px solid #ddd"}},"R$",t.suggestedPrice.toFixed(2)),o.a.createElement("td",{style:{padding:"10px",border:"1px solid #ddd"}},"R$",t.totalSuggestedPrice.toFixed(2)),o.a.createElement("td",{style:{padding:"10px",border:"1px solid #ddd"}},t.dateAdded),o.a.createElement("td",{style:{padding:"10px",border:"1px solid #ddd"}},o.a.createElement("button",{onClick:()=>(t=>{const a=x[e].find(e=>e.id===t);r(a.name),p(a.quantity),u(a.price.toFixed(2)),h(t),y(t=>[...t,"Produto editado: ".concat(a.name," - ").concat(e," - Nova quantidade: ").concat(n," - Novo pre\xe7o: R$").concat(s)])})(t.id),style:{padding:"5px 10px",marginRight:"5px"}},"Editar"),o.a.createElement("button",{onClick:()=>h(t.id),style:{padding:"5px 10px"}},"Remover")))))),o.a.createElement("div",null,o.a.createElement("h3",null,"Totais"),o.a.createElement("p",null,"Total Gasto: R$",S(e)),o.a.createElement("p",null,"Total Sugerido: R$",v(e)))),"Todos"===e&&o.a.createElement("div",null,o.a.createElement("h3",null,"Log de Edi\xe7\xf5es"),o.a.createElement("ul",null,b.map((e,t)=>o.a.createElement("li",{key:t},e)))),o.a.createElement("div",null,o.a.createElement("h3",null,"Total Geral"),o.a.createElement("p",null,"Total Gasto: R$",i.reduce((e,t)=>e+parseFloat(S(t)),0).toFixed(2)),o.a.createElement("p",null,"Total Sugerido: R$",i.reduce((e,t)=>e+parseFloat(v(t)),0).toFixed(2))))};var s=function(){return o.a.createElement("div",{className:"App"},o.a.createElement("h1",null," "),o.a.createElement(p,null))};var u=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,17)).then(t=>{let{getCLS:a,getFID:d,getFCP:o,getLCP:r,getTTFB:n}=t;a(e),d(e),o(e),r(e),n(e)})};n.a.createRoot(document.getElementById("root")).render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(s,null))),u()},5:function(e,t,a){e.exports=a(16)}},[[5,1,2]]]);
//# sourceMappingURL=main.b6f53b2b.chunk.js.map